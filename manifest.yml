root: "/"

defaults:
  owner: root
  group: root
  fmode: 0644
  dmode: 0755

components:
  - src: bower_components/systemd-units/system/user@.service.d
    dst: etc/systemd/system/user@.service.d

  - src: bower_components/systemd-units/system/getty@tty6.service.d
    dst: etc/systemd/system/getty@tty6.service.d

config_files:
  - src: etc/mkinitcpio.conf
    packages: [ mkinitcpio ]

  - src: bower_components/archrc-private/etc/fstab
    dst: etc/fstab
    hosts: [ Gungnir ]

  - src: etc/default/grub
    packages: [ grub ]

  - src: etc/locale.gen
  - src: etc/locale.conf
  - src: etc/sysctl.d/99-sysctl.conf

  - src: etc/nftables.conf
    packages: [ nftables ]

  - src: etc/sudoers
    fmode: 0440
    packages: [ sudo ]

  - src: etc/ssh/sshd_config
    packages: [ openssh ]

  - src: etc/X11/xorg.conf.d/20-intel.conf
    packages: [ xf86-video-intel ]

  - src: etc/X11/xorg.conf.d/20-synaptics.conf
    packages: [ xf86-input-synaptics ]
    hosts: [ Gungnir ]

  - src: bower_components/systemd-units/system/slimlock@.service
    dst: etc/systemd/system/slimlock@.service
    packages: [ slimlock ]

  - src: etc/slim.conf
    packages: [ slimlock ]

  - src: bower_components/archutil/bin/archutil
    dst: usr/local/bin/archutil
    fmode: 0755

  - src: archutil.yml
    dst: usr/local/etc/archutil.yml

  # Only needed if starting xorg with systemd/User.
  # - src: etc/X11/Xwrapper.config
